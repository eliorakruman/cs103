
<div>
    <h1> Transactions for <%=username%>@me.com </h1>
    <p> Here is your list of transactions! </p>
    <ul class="choose-sorting">
    <table class="sort">
      <tr>
        <td>
        <a class="btn btn-primary" href="/transaction/groupByCategory" role="button">group by category</a>
        </td>
        <td>
        <a class="btn btn-primary" href="/transaction?sortBy=category&sortOrder=<%= sortOrder = 'asc'%>" role="button">sort by category</a>
        </td>
        <td>
        <a class="btn btn-primary" href="/transaction?sortBy=amount&sortOrder=<%= sortOrder = 'asc'%>" role="button">sort by amount</a>
        </td>
        <td>
        <a class="btn btn-primary" href="/transaction?sortBy=item&sortOrder=<%= sortOrder = 'asc'%>" role="button">sort by description</a>
        </td>
        <td>
        <a class="btn btn-primary" href="/transaction?sortBy=occurredAt&sortOrder=<%= sortOrder = 'asc'%>" role="button">sort by date</a>
        </td>
      </tr>
    </table>
    </ul>
      <table>
        <tr>
        <th>description</th>
        <th>amount</th>
        <th>category</th>
        <th>date</th>
        <th>delete</th>
        <th>edit</th>
      </tr>
      <% items.forEach(item => { %>
        <tr>
                <td>
                <%= item.item %>
              </td>
              <td>
                <%= item.amount %>
              </td>
              <td>
                <%= item.category %>
              </td>
                <td>
                <%= item.occurredAt.toDateString() %>
              </td>
            
            <td>
                <a href="/transaction/remove/<%=item._id %>">
                  <i class="bi bi-trash"></i>
                </a>
          </td>
          <td>
                <a href="/transaction/edit/<%=item._id %>">
                  <i class="bi bi-pencil"></i>
                </a>
              </td>
          </tr>
          <br>
      <% }) %>
    </table>
    <br>
      <h1> Add a New Transaction </h1>
      <form method="post" action="transaction" class="new">
          <input type="text" name="item" value="description">
          <br>
          <input type="text" name="category" value="category">
          <br>
          <input type="text" name="amount" value="amount">
          <br>
          <input type="text" name="occurredAt" value="mm/dd/yyyy">
          <br>
          <input type="submit" value="store">
      </form>

  </div>